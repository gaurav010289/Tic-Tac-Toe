<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <style>
        button{
            height: 100px;
            width : 100px;
            border-radius: 50px;
            border-radius: 1px solid grey;
            font-size: 60px;
        }
        .pad{
            padding: 0.2px;
            color: black;
        }
        .center{
            position:fixed;
            top: 50%;
            left: 50%;
            width:75em;
            height:18em;
            margin-top: -11em; /*set to a negative number 1/2 of your height*/
            margin-left: -12em; /*set to a negative number 1/2 of your width*/
        }
    </style>
</head>
<body style="background-image: url('../images/ticbg4.jpeg');">
    <div class = 'container center'>
        <div class = 'row'>
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '1'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '2'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '3'></button>
            </div>   
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '4'></button>
            </div>   
        </div>
        <div class = 'row'>
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '5'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '6'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '7'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '8'></button>
            </div> 
        </div>
        <div class = 'row'>
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '9'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '10'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '11'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '12'></button>
            </div> 
        </div>
        <div class = 'row'>
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '13'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '14'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '15'></button>
            </div>     
            <div class = 'col-md-1 pad'>
                <button onclick="fun(this)" id = '16'></button>
            </div> 
        </div>

        <div class = 'row'>
            <div class = 'col-md-12' id = 'winner'>

            </div>
        </div>
    </div>

        <script>
            let win = 0,zero = 1,chance = 0;
            let ze = {},xe = {};

            function fun(obj){
                if(obj.innerHTML != '' || win)return;
                if(zero){
                    obj.innerHTML = '0';
                    zero = 0;
                    ze[obj.id] = true;
                }
                else{
                    obj.innerHTML = 'X';
                    zero = 1;
                    xe[obj.id] = true;
                }

                chance++;
                let wins = document.getElementById('winner');
                if(check(ze)){
                    win = 1;
                    wins.innerHTML = "Player with 0 wins";
                }
                else if(check(xe)){
                    win = 1;
                    wins.innerHTML = "Player with X wins";
                }
                else if(chance == 16){
                    win = 1;
                    wins.innerHTML = "DRAW";
                }
            }
            let check = (x) => {
                let ids = [['1','2','3','4'],['1','5','9','13'], ['1','6','11','16'] , ['2','6','10','14'] , ['3','7','11','15'] , ['4','8','12','16'] , ['4','7','10','13'] , ['5','6','7','8'] , ['9','10','11','12'] , ['13','14','15','16'] ];
                for(let i = 0;i<=9;i++){
                    let id1 = ids[i][0],id2 = ids[i][1],id3 = ids[i][2],id4 = ids[i][3];
                    if(x[id1] && x[id2] && x[id3] && x[id4]){
                        CC(id1);CC(id2);CC(id3);CC(id4);
                        for(let j = '1';j<='16';j++){
                            if(j != id1 && j != id2 && j != id3 && j != id4){
                                var ele = document.getElementById(j);
                                ele.innerHTML = '<marquee direction = "left" loop = "1">' + ele.innerHTML + '</marquee>';
                            }
                        }
                        return true;
                    }
                }
                return false;
            }
            function CC(id){
                document.getElementById(id).style.color = "#D35400";
            }
        </script>
</body>
</html>